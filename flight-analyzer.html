<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flight Performance Analyzer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            color: white;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .nav-tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
        }

        .nav-container {
            background: white;
            border-radius: 12px;
            padding: 6px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .nav-tab {
            background: none;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            color: #6b7280;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-tab.active {
            background: #3b82f6;
            color: white;
        }

        .nav-tab:hover:not(.active) {
            background: #f3f4f6;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .search-section {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .search-container {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .search-input {
            flex: 1;
            padding: 15px 20px;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: #3b82f6;
        }

        .search-btn {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .search-btn:hover {
            background: #2563eb;
        }

        .flight-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .flight-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(0,0,0,0.15);
        }

        .flight-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
        }

        .flight-info h3 {
            font-size: 1.5rem;
            font-weight: bold;
            color: #1f2937;
            margin-bottom: 5px;
        }

        .flight-info .airline {
            color: #6b7280;
            margin-bottom: 8px;
        }

        .flight-info .route {
            font-size: 1.2rem;
            font-weight: 600;
            color: #3b82f6;
        }

        .flight-status {
            text-align: right;
        }

        .status-text {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .aircraft {
            font-size: 0.9rem;
            color: #6b7280;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .metric {
            text-align: center;
        }

        .metric-value {
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .metric-label {
            font-size: 0.8rem;
            color: #6b7280;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 20px;
        }

        .tag {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .tag-blue { background: #dbeafe; color: #1e40af; }
        .tag-green { background: #dcfce7; color: #166534; }
        .tag-yellow { background: #fef3c7; color: #92400e; }
        .tag-red { background: #fee2e2; color: #991b1b; }

        .flight-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .compare-btn {
            padding: 10px 20px;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .compare-btn.add {
            background: #3b82f6;
            color: white;
        }

        .compare-btn.remove {
            background: #dc2626;
            color: white;
        }

        .compare-btn:disabled {
            background: #9ca3af;
            cursor: not-allowed;
        }

        .trend {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.9rem;
            color: #6b7280;
        }

        .comparison-table {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            overflow-x: auto;
        }

        .comparison-table h2 {
            margin-bottom: 20px;
            color: #1f2937;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
        }

        th {
            font-weight: 600;
            color: #374151;
            background: #f9fafb;
        }

        tr:hover {
            background: #f9fafb;
        }

        .empty-state {
            background: white;
            border-radius: 12px;
            padding: 60px 30px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .empty-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            opacity: 0.5;
        }

        .seasonal-chart {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .seasonal-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-top: 15px;
        }

        .season-metric {
            text-align: center;
            padding: 15px;
            border-radius: 8px;
            background: #f9fafb;
        }

        .insights-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .insight-section h4 {
            margin-bottom: 15px;
            font-weight: 600;
        }

        .route-list {
            list-style: none;
        }

        .route-list li {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #f3f4f6;
        }

        .on-time-high { color: #059669; }
        .on-time-medium { color: #d97706; }
        .on-time-low { color: #dc2626; }

        .status-on-time { color: #059669; }
        .status-delayed { color: #d97706; }
        .status-cancelled { color: #dc2626; }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .search-container {
                flex-direction: column;
            }
            
            .search-input {
                width: 100%;
            }
            
            .flight-header {
                flex-direction: column;
                gap: 15px;
            }
            
            .insights-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>
                ‚úàÔ∏è Flight Performance Analyzer
            </h1>
            <p>Make smarter travel decisions with real-time flight performance data</p>
        </div>

        <!-- Navigation -->
        <div class="nav-tabs">
            <div class="nav-container">
                <button class="nav-tab active" data-tab="search">
                    üîç Search Flights
                </button>
                <button class="nav-tab" data-tab="compare">
                    üìä Compare (<span id="compare-count">0</span>)
                </button>
                <button class="nav-tab" data-tab="analytics">
                    üìà Analytics
                </button>
            </div>
        </div>

        <!-- Search Tab -->
        <div id="search" class="tab-content active">
            <div class="search-section">
                <div class="search-container">
                    <input 
                        type="text" 
                        class="search-input" 
                        placeholder="Enter flight number, airline, or route (e.g., AA1234, American, JFK-LAX)"
                        id="searchInput"
                    >
                    <button class="search-btn" onclick="searchFlights()">Search</button>
                </div>
            </div>

            <div id="flight-results">
                <!-- Flight cards will be dynamically inserted here -->
            </div>
        </div>

        <!-- Compare Tab -->
        <div id="compare" class="tab-content">
            <div id="comparison-content">
                <!-- Comparison content will be dynamically inserted here -->
            </div>
        </div>

        <!-- Analytics Tab -->
        <div id="analytics" class="tab-content">
            <div id="analytics-content">
                <!-- Analytics content will be dynamically inserted here -->
            </div>
        </div>
    </div>

    <script>
        // Mock flight data
        const flightData = {
            'AA1234': {
                id: 'AA1234',
                airline: 'American Airlines',
                route: 'JFK ‚Üí LAX',
                aircraft: 'Boeing 737-800',
                onTimePercent: 78,
                avgDelay: 12,
                status: 'On Time',
                gate: 'A12',
                terminal: 'Terminal 4',
                runway: '04L/22R',
                baggageClaim: 'Carousel 3',
                seasonal: {
                    spring: 82, summer: 71, fall: 79, winter: 68
                },
                recentPerformance: [85, 72, 78, 81, 76, 79, 83],
                irregularOps: 'None',
                equipmentReliability: 'High'
            },
            'DL5678': {
                id: 'DL5678',
                airline: 'Delta Air Lines',
                route: 'ATL ‚Üí ORD',
                aircraft: 'Airbus A321',
                onTimePercent: 85,
                avgDelay: 8,
                status: 'Delayed 15 min',
                gate: 'B7',
                terminal: 'Terminal 2',
                runway: '09R/27L',
                baggageClaim: 'Carousel 1',
                seasonal: {
                    spring: 88, summer: 79, fall: 86, winter: 83
                },
                recentPerformance: [88, 82, 85, 87, 84, 89, 85],
                irregularOps: 'ATC Delay',
                equipmentReliability: 'Very High'
            },
            'UA9012': {
                id: 'UA9012',
                airline: 'United Airlines',
                route: 'SFO ‚Üí DEN',
                aircraft: 'Boeing 777-200',
                onTimePercent: 72,
                avgDelay: 18,
                status: 'Boarding',
                gate: 'C15',
                terminal: 'Terminal 3',
                runway: '10L/28R',
                baggageClaim: 'Carousel 7',
                seasonal: {
                    spring: 75, summer: 68, fall: 74, winter: 71
                },
                recentPerformance: [68, 75, 72, 70, 74, 71, 76],
                irregularOps: 'Weather Hold',
                equipmentReliability: 'Medium'
            },
            'SW4567': {
                id: 'SW4567',
                airline: 'Southwest Airlines',
                route: 'PHX ‚Üí DFW',
                aircraft: 'Boeing 737 MAX 8',
                onTimePercent: 81,
                avgDelay: 9,
                status: 'On Time',
                gate: 'A8',
                terminal: 'Terminal 1',
                runway: '13R/31L',
                baggageClaim: 'Carousel 2',
                seasonal: {
                    spring: 83, summer: 77, fall: 82, winter: 81
                },
                recentPerformance: [79, 83, 81, 84, 78, 82, 81],
                irregularOps: 'None',
                equipmentReliability: 'High'
            }
        };

        let selectedFlights = [];

        // Tab functionality
        document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                const targetTab = tab.getAttribute('data-tab');
                switchTab(targetTab);
            });
        });

        function switchTab(tabName) {
            // Remove active class from all tabs and content
            document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            
            // Add active class to selected tab and content
            document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');
            document.getElementById(tabName).classList.add('active');

            // Load content based on tab
            if (tabName === 'compare') {
                loadComparisonContent();
            } else if (tabName === 'analytics') {
                loadAnalyticsContent();
            }
        }

        function getPerformanceClass(percent) {
            if (percent >= 80) return 'on-time-high';
            if (percent >= 70) return 'on-time-medium';
            return 'on-time-low';
        }

        function getStatusClass(status) {
            if (status === 'On Time' || status === 'Boarding') return 'status-on-time';
            if (status.includes('Delayed')) return 'status-delayed';
            return 'status-cancelled';
        }

        function createFlightCard(flight) {
            const isSelected = selectedFlights.includes(flight.id);
            const trendDirection = flight.recentPerformance[6] > flight.recentPerformance[0] ? 'üìà' : 'üìâ';
            
            return `
                <div class="flight-card">
                    <div class="flight-header">
                        <div class="flight-info">
                            <h3>${flight.id}</h3>
                            <div class="airline">${flight.airline}</div>
                            <div class="route">${flight.route}</div>
                        </div>
                        <div class="flight-status">
                            <div class="status-text ${getStatusClass(flight.status)}">${flight.status}</div>
                            <div class="aircraft">${flight.aircraft}</div>
                        </div>
                    </div>

                    <div class="metrics-grid">
                        <div class="metric">
                            <div class="metric-value ${getPerformanceClass(flight.onTimePercent)}">${flight.onTimePercent}%</div>
                            <div class="metric-label">On Time</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value">${flight.avgDelay}m</div>
                            <div class="metric-label">Avg Delay</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value" style="color: #3b82f6;">${flight.gate}</div>
                            <div class="metric-label">Gate</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value" style="color: #7c3aed;">${flight.baggageClaim}</div>
                            <div class="metric-label">Baggage</div>
                        </div>
                    </div>

                    <div class="tags">
                        <span class="tag tag-blue">${flight.terminal}</span>
                        <span class="tag tag-green">Runway: ${flight.runway}</span>
                        <span class="tag ${flight.equipmentReliability === 'Very High' ? 'tag-green' : 
                                          flight.equipmentReliability === 'High' ? 'tag-blue' : 'tag-yellow'}">
                            ${flight.equipmentReliability} Reliability
                        </span>
                        ${flight.irregularOps !== 'None' ? 
                            `<span class="tag tag-red">‚ö†Ô∏è ${flight.irregularOps}</span>` : ''}
                    </div>

                    <div class="flight-actions">
                        <button class="compare-btn ${isSelected ? 'remove' : 'add'}" 
                                onclick="${isSelected ? 'removeFromComparison' : 'addToComparison'}('${flight.id}')"
                                ${!isSelected && selectedFlights.length >= 3 ? 'disabled' : ''}>
                            ${isSelected ? 'Remove from Compare' : 'Compare'}
                        </button>
                        <div class="trend">
                            Recent Trend: ${trendDirection}
                        </div>
                    </div>
                </div>
            `;
        }

        function displayFlights() {
            const resultsContainer = document.getElementById('flight-results');
            resultsContainer.innerHTML = Object.values(flightData)
                .map(flight => createFlightCard(flight))
                .join('');
        }

        function searchFlights() {
            // For demo purposes, always show all flights
            // In real implementation, filter based on search term
            displayFlights();
        }

        function addToComparison(flightId) {
            if (!selectedFlights.includes(flightId) && selectedFlights.length < 3) {
                selectedFlights.push(flightId);
                updateCompareCount();
                displayFlights();
            }
        }

        function removeFromComparison(flightId) {
            selectedFlights = selectedFlights.filter(id => id !== flightId);
            updateCompareCount();
            displayFlights();
        }

        function updateCompareCount() {
            document.getElementById('compare-count').textContent = selectedFlights.length;
        }

        function loadComparisonContent() {
            const container = document.getElementById('comparison-content');
            
            if (selectedFlights.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">‚úàÔ∏è</div>
                        <h3 style="color: #6b7280; margin-bottom: 10px;">No flights selected for comparison</h3>
                        <p style="color: #9ca3af;">Go to Search tab and add flights to compare their performance</p>
                    </div>
                `;
                return;
            }

            const tableRows = selectedFlights.map(flightId => {
                const flight = flightData[flightId];
                return `
                    <tr>
                        <td style="font-weight: 600;">${flight.id}</td>
                        <td>${flight.route}</td>
                        <td class="${getPerformanceClass(flight.onTimePercent)}" style="font-weight: bold;">
                            ${flight.onTimePercent}%
                        </td>
                        <td>${flight.avgDelay}m</td>
                        <td class="${getStatusClass(flight.status)}">${flight.status}</td>
                        <td>${flight.gate}</td>
                        <td>${flight.equipmentReliability}</td>
                    </tr>
                `;
            }).join('');

            container.innerHTML = `
                <div class="comparison-table">
                    <h2>Flight Comparison</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>Flight</th>
                                <th>Route</th>
                                <th>On-Time %</th>
                                <th>Avg Delay</th>
                                <th>Status</th>
                                <th>Gate</th>
                                <th>Reliability</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${tableRows}
                        </tbody>
                    </table>
                </div>
            `;
        }

        function loadAnalyticsContent() {
            const container = document.getElementById('analytics-content');
            const flightsToShow = selectedFlights.length > 0 ? 
                selectedFlights.map(id => flightData[id]) : 
                Object.values(flightData).slice(0, 2);

            const seasonalCharts = flightsToShow.map(flight => `
                <div class="seasonal-chart">
                    <h4>Seasonal Performance - ${flight.id}</h4>
                    <div class="seasonal-grid">
                        ${Object.entries(flight.seasonal).map(([season, percent]) => `
                            <div class="season-metric">
                                <div class="metric-value ${getPerformanceClass(percent)}">${percent}%</div>
                                <div class="metric-label">${season.charAt(0).toUpperCase() + season.slice(1)}</div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `).join('');

            container.innerHTML = `
                ${seasonalCharts}
                
                <div class="seasonal-chart">
                    <h3 style="margin-bottom: 20px;">Performance Insights</h3>
                    <div class="insights-grid">
                        <div class="insight-section">
                            <h4 style="color: #059669;">‚úÖ Best Performing Routes</h4>
                            <ul class="route-list">
                                <li>
                                    <span>ATL ‚Üí ORD (DL5678)</span>
                                    <span class="on-time-high" style="font-weight: bold;">85%</span>
                                </li>
                                <li>
                                    <span>PHX ‚Üí DFW (SW4567)</span>
                                    <span class="on-time-high" style="font-weight: bold;">81%</span>
                                </li>
                                <li>
                                    <span>JFK ‚Üí LAX (AA1234)</span>
                                    <span class="on-time-medium" style="font-weight: bold;">78%</span>
                                </li>
                            </ul>
                        </div>
                        <div class="insight-section">
                            <h4 style="color: #dc2626;">‚ö†Ô∏è Routes Needing Attention</h4>
                            <ul class="route-list">
                                <li>
                                    <span>SFO ‚Üí DEN (UA9012)</span>
                                    <span class="on-time-low" style="font-weight: bold;">72%</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            `;
        }

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            displayFlights();
            
            // Add enter key support for search
            document.getElementById('searchInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    searchFlights();
                }
            });
        });
    </script>
</body>
</html>
